{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://cpp.moj.gov.uk/prosecution/casefile/json/schemas/offence-reference-data.json",
  "definitions": {
    "dateFormat": {
      "type": "string",
      "pattern": "^((([\\+-]?\\d{4}(?!\\d{2}\\b))\\-(0[13578]|1[02])\\-(0[1-9]|[12]\\d|3[01]))|(([\\+-]?\\d{4}(?!\\d{2}\\b))\\-(0[13456789]|1[012])\\-(0[1-9]|[12]\\d|30))|(([\\+-]?\\d{4}(?!\\d{2}\\b))\\-02\\-(0[1-9]|1\\d|2[0-8]))|(((1[6-9]|[2-9]\\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))\\-02\\-29))$"
    },
    "YN": {
      "type": "string",
      "pattern": "^[YN]{1}$"
    },
    "details": {
      "id": "http://cpp.moj.gov.uk/prosecution/casefile/json/schemas/details.json",
      "type": "object",
      "properties": {
        "document": {
          "id": "http://cpp.moj.gov.uk/prosecution/casefile/json/schemas/document.json",
          "type": "object",
          "properties": {
            "pnldref": {
              "type": "string"
            },
            "english": {
              "type": "object",
              "properties": {
                "title": {
                  "type": "string"
                },
                "additionalkeywords": {
                  "type": "object",
                  "properties": {
                    "additionalkeyword": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                },
                "standardoffencewording": {
                  "type": "string"
                },
                "legislation": {
                  "type": "string"
                },
                "pointstoprove": {
                  "type": "string"
                },
                "investigatoractions": {
                  "type": "object",
                  "properties": {
                    "investigatoraction": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "policeandcpschargingresponsibilities": {
                  "type": "string"
                },
                "notes": {
                  "type": "string"
                },
                "standardstatementoffacts": {
                  "type": "string"
                }
              }
            },
            "indictment": {
              "type": "object",
              "properties": {
                "indictmentindicator": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "enum": [
                        "Y",
                        "N"
                      ]
                    },
                    "description": {
                      "type": "string",
                      "enum": [
                        "YES",
                        "NO"
                      ]
                    }
                  }
                },
                "structuredindictmentindicator": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "enum": [
                        "Y",
                        "N"
                      ]
                    },
                    "description": {
                      "type": "string",
                      "enum": [
                        "YES",
                        "NO"
                      ]
                    }
                  }
                },
                "indictmenttitle": {
                  "type": "string"
                },
                "welshindictmenttitle": {
                  "type": "string"
                },
                "indictmentcountcode": {
                  "type": "string"
                },
                "unstructuredindictmentstandardwording": {
                  "type": "string"
                },
                "structuredindictmentstandardwording": {
                  "type": "string"
                },
                "welshunstructuredindictmentstandardwording": {
                  "type": "string"
                },
                "welshstructuredindictmentstandardwording": {
                  "type": "string"
                }
              }
            },
            "welsh": {
              "id": "http://cpp.moj.gov.uk/prosecution/casefile/json/schemas/welsh.json",
              "type": "object",
              "properties": {
                "welshoffencetitle": {
                  "type": "string"
                },
                "welshstandardoffencewording": {
                  "type": "string"
                },
                "welshstandardstatementoffacts": {
                  "type": "string"
                },
                "welshlegislation": {
                  "type": "string"
                }
              }
            },
            "other": {
              "type": "object",
              "properties": {
                "powersofarrest": {
                  "type": "string"
                },
                "modeoftrial": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    }
                  }
                },
                "consents": {
                  "type": "object",
                  "properties": {
                    "consent": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "timelimitforprosecutions": {
                  "type": "string"
                },
                "penalty": {
                  "type": "string"
                },
                "geographicregion": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "codes": {
              "type": "object",
              "properties": {
                "cjsoffencecode": {
                  "type": "string"
                },
                "previouscjsoffencecode": {
                  "type": "string"
                },
                "recordableonpncindicator": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "enum": [
                        "Y",
                        "N"
                      ]
                    },
                    "description": {
                      "type": "string",
                      "enum": [
                        "YES",
                        "NO"
                      ]
                    }
                  }
                },
                "pncacpooffencecode": {
                  "type": "string"
                },
                "notifiabletomoj": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "enum": [
                        "Y",
                        "N"
                      ]
                    },
                    "description": {
                      "type": "string",
                      "enum": [
                        "YES",
                        "NO"
                      ]
                    }
                  }
                },
                "mojstatscode": {
                  "type": "string"
                },
                "mopireviewgroup": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    }
                  }
                },
                "mopinoteslink": {
                  "type": "string"
                },
                "disqualificationclass": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    }
                  }
                },
                "dvlacode": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    }
                  }
                },
                "maxpenaltypoints": {
                  "type": "integer"
                },
                "minpenaltypoints": {
                  "type": "integer"
                },
                "seatbeltoffence": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    }
                  }
                },
                "fptissuedbypolice": {
                  "type": "number"
                },
                "fptgraduated": {
                  "type": "number"
                },
                "fptgraduatedhigh": {
                  "type": "number"
                },
                "pndissuedbypolice": {
                  "type": "number"
                },
                "pndissuedbylocalauthorities": {
                  "type": "number"
                },
                "pndissuedbyothers": {
                  "type": "number"
                },
                "roadsidedeposits": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "libra": {
              "type": "object",
              "properties": {
                "libracategory": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    }
                  }
                },
                "fineindicator": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "enum": [
                        "Y",
                        "N"
                      ]
                    },
                    "description": {
                      "type": "string",
                      "enum": [
                        "YES",
                        "NO"
                      ]
                    }
                  }
                },
                "maxfinetypemagct": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    }
                  }
                },
                "maxfinemagct": {
                  "type": "number"
                },
                "maxfinetypecrownct": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    }
                  }
                },
                "maxfinecrownct": {
                  "type": "number"
                },
                "custodialindicator": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "enum": [
                        "Y",
                        "N"
                      ]
                    },
                    "description": {
                      "type": "string",
                      "enum": [
                        "YES",
                        "NO"
                      ]
                    }
                  }
                },
                "maxcustodialsentenceunitmagct": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    }
                  }
                },
                "maxcustodialsentencelengthmagct": {
                  "type": "integer"
                },
                "maxcustodialsentenceunitcrownct": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    }
                  }
                },
                "maxcustodialsentencelengthcrownct": {
                  "type": "integer"
                },
                "complexpenaltydetails": {
                  "type": "string"
                },
                "miscode": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    }
                  }
                },
                "hoproceedingscode": {
                  "type": "string"
                }
              }
            },
            "ancillary": {
              "id": "http://cpp.moj.gov.uk/prosecution/casefile/json/schemas/ancillary.json",
              "type": "object",
              "properties": {
                "offencestartdate": {
                  "type": "string"
                },
                "offenceenddate": {
                  "type": "string"
                },
                "datecreated": {
                  "type": "string"
                },
                "auditofamendments": {
                  "type": "string"
                },
                "legislationcode": {
                  "type": "object",
                  "properties": {
                    "link": {
                      "type": "string"
                    }
                  }
                },
                "lastupdate": {
                  "type": "string"
                },
                "dateoflastupdate": {
                  "type": "string"
                },
                "fptupdatedate": {
                  "type": "string"
                },
                "offencewordinggroup": {
                  "type": "string"
                },
                "groups": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "type": {
              "type": "string"
            }
          }
        }
      }
    }
  },
  "type": "object",
  "properties": {
    "offenceId": {
      "$ref": "http://justice.gov.uk/domain/core/common/definitions.json#/definitions/uuid"
    },
    "cjsOffenceCode": {
      "type": "string"
    },
    "modeOfTrial": {
      "type": "string"
    },
    "modeOfTrialDerived": {
      "type": "string"
    },
    "validFrom": {
      "$ref": "#/definitions/dateFormat"
    },
    "validTo": {
      "$ref": "#/definitions/dateFormat"
    },
    "cppDateOfLastUpdate": {
      "$ref": "#/definitions/dateFormat"
    },
    "offenceStartDate": {
      "$ref": "#/definitions/dateFormat"
    },
    "offenceEndDate": {
      "$ref": "#/definitions/dateFormat"
    },
    "pnldDateOfLastUpdate": {
      "$ref": "#/definitions/dateFormat"
    },
    "details": {
      "$ref": "#/definitions/details"
    },
    "drugsOrAlcoholRelated": {
      "$ref": "#/definitions/YN"
    },
    "locationRequired": {
      "$ref": "#/definitions/YN"
    },
    "prosecutionTimeLimit": {
      "type": "string"
    },
    "title": {
      "type": "string"
    },
    "titleWelsh": {
      "type": "string"
    },
    "legislation": {
      "type": "string"
    },
    "legislationWelsh": {
      "type": "string"
    },
    "backDuty": {
      "type": "boolean"
    },
    "endorsableFlag": {
      "type": "boolean"
    },
    "reportRestrictResultCode": {
      "type": "string"
    },
    "dvlaCode": {
      "type": "string"
    },
    "maxPenalty": {
      "type": "string"
    },
    "exParte": {
      "type": "boolean"
    }
  },
  "additionalProperties": false,
  "required": [
    "offenceId",
    "cjsOffenceCode",
    "pnldDateOfLastUpdate"
  ]
}